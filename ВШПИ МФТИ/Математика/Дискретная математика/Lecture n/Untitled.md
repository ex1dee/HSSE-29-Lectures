*Далее запись $a\equiv_{c} b \iff a\equiv b \ (modc)$, $a : b$ означает a делится на b"*

1. Делимость
2. Деление с остатком: $a = bq+r; q, r \in \mathbb{Z}, r \in [0, b)$
3. Простое число $p$ - нет $\mathbb{N}$ делителей, кроме $1$ и $p$
4. $НОД(a, b) = d : 1)\ a=dd', b =db', 2)\ d-\text{наибольший}, 3) \ \text{любой общий делитель a и b является делителем d}$
5. $a, b$ - взаимнопростые числа, если $НОД(a, b) = 1$
6. Пусть $НОД(a, b) = 1 \land a*c : b \implies c : b$.
7. $НОК(a, b)$ - наименьшее $\mathbb{N}$ число $m$$: m : a, m : b$. Из 6): $НОК(a,b) = \frac{ab}{НОД(a,b)}$
8. **Основная теорема арифметики**: 
Любое $m \in \mathbb{N}$ представимо в виде произведения простых сомножителей: $m = p_{1}^{k_{1}} * p_{2}^{k_{2}} * \dots * p_{n}^{k_{n}}, p_{i} - \text{ простое}, k_{i} \in \mathbb{N}$

>Пусть $\pi(n)$ - количество простых чисел на \[1,n\]. Тогда $\lim_{ n \to \infty } \frac{\pi(n)}{n/\ln n} = 1$.
>Это значит, что, когда $n$ очень велико, то $\pi(n) \sim \frac{n}{\ln n}$

>Некоторые свойства равноостаточности
$$
\begin{array}{}
a \equiv_{m} b \iff (a - b) \equiv_{m} 0 \\
\begin{cases}
a\equiv_{m}b \\
c\equiv_{m}d
\end{cases} \implies
\begin{cases}
a + c \equiv_{m} b + d \\
ac \equiv_{m} bd
\end{cases}
\end{array}
$$

>**Обратный элемент по модулю**
>$\ \exists x:  ax \equiv_{p} 1$ (\*), $НОД(a, p) = 1$

1. $a:p$ - решений нет ($0\equiv_{p_{1}}1$)
2. $a  \not{:}\ \ p$
* *1 метод*: 
$НОД(a, p) = 1 \implies \text{по расширенному алгоритму Евклида (РАЕ)}\ \exists x, y \in \mathbb{Z} : ax + py \equiv_{p} 1 \iff ax \equiv_{p} 1$
* *2 метод*:
Выпишем все ненулевые остатки при делении на $p$: $1, 2, \dots, p-1$ и умножим их на $a$: $a, 2a, \dots, (p-1)a \ (a*i \neq a*j$, т.к. иначе $a(i-j) \equiv_{p} 0  \implies i = j)$
Также заметим, что ни одно из получившихся значений $ai \not\equiv_{p} 0$, т.к. иначе $i \equiv_{p} 0$, но $i>0$
Тогда получаем, что $\{ a, 2a, \dots, (p-1)a \}$ - это просто перестановка $\{ 1, 2, \dots, p-1 \}$
Значит, среди множества $\{ a, 2a, \dots, (p-1)a \}$ есть соответствующий ему из множества остатков $\{ 1, 2, \dots, p-1 \}$ остаток 1.

>**Свойства обратных по модулю**
1) $ax \equiv_{m} ay \implies x=y$
2) $a_{1}x \equiv_{m} a_{2}x \implies a_{1} = a_{2}$
3) $t^2 \equiv_{m} 1 \implies (t-1)(t+1) \equiv_{m} 0 \implies t \equiv_{m} 1$ или $t \equiv_{m} -1 \equiv_{m} m-1$ 
	(числа, обратные самому себе: 1 и m - 1) (\*\*)

>Если $ac \equiv_{m} bc$ и $НОД(c, m) = 1$, то $a \equiv_{m} b$ 

*Доказательство*
$ac - bc \equiv_{m}0 \implies (a - b)c \equiv_{m}0$
Т.к. $НОД(c,m) = 1$, то существует обратный к $c$ элемент $c^{-1}$.
Умножим на него уравнение и получим $a*cc^{-1} \equiv_{m}b*cc^{-1} \iff a\equiv_{m}b$ по (\*)

>Если $a \equiv_{mn} b$, то $a \equiv_{m} b$ и $a \equiv_{n} b$

*Доказательство*
$a \equiv_{mn} b \implies a - b \equiv_{mn} 0 \implies a - b = mnk, k \in \mathbb{Z}$
$\implies a - b \equiv_{m} 0, a - b \equiv_{n} 0$

>**Малая теорема Ферма**
>$a^{p-1} \equiv_{p} 1$

*Доказательство*
Рассмотрим ненулевые остатки при делении на $p: 1, 2, \dots, p-1$
Умножим каждое на $a: a, 2a, \dots, (p-1)a$. 
Ранее мы уже доказали, что это просто перестановка $1, 2, \dots, p-1$
Тогда их произведения, а значит, и остаток от деления на $p$ произведения равны: $1*2*\dots*(p-1) = a*2a*\dots*(p-1)a = a^{p-1}*1*2*\dots*(p-1)$
$1*2*\dots*(p-1) \equiv_{p} a^{p-1}*1*2*\dots*(p-1)$(p-1)

$НОД(1*2*\dots*(p-1), p) = 1 \implies$ поделим всё на $1*2*\dots*(p-1)$
$a^{p-1} \equiv_{p} 1$

>**Теорема Вильсона**
>$(m-1)! \equiv_{m} -1\iff m$ - простое

**(=>)** Пусть $m$ - составное. Тогда $НОД(m, (m-1)!) =d\neq 1$
Пусть $(m-1)! + 1 = mk$ (т.е. $(m-1)! + 1 \equiv_{m}0$)
$(m-1)! : d, mk  \not{:}\ \ d$, но $mk : d$, т.к. $m : d$ $\implies$ противоречие

**(<=)** Пусть $m$ - простое. 
Рассмотрим ненулевые остатки при делении на $m: 1, 2, \dots, m-1$. 
Как доказано в (\*\*), у каждого числа, кроме 1 и (m - 1) есть пара (обратный по модулю элемент), произведение которой $\equiv_{m} 1$ $\implies (m-1)! \equiv_{m} 1*(m-1) \equiv_{m} -1$ 

>**Функция Эйлера**
>$\phi(n)$ - количество чисел $\in [1, n]$ и взаимнопростых с n

*Некоторые свойства:*
* $\phi(p) = p-1$
* $\phi(p^k) = p^k - p^{k-1}$ (всего чисел до $p^k:p^k$. Из них $\frac{p^k}{p} = p^{k-1}$ деляется на $p$)

>**Мультипликативность:** если $НОД(m,n) = 1$, то $\phi(mn) = \phi(m) * \phi(n)$

1. $m, n$ - простые

$1, 2, \dots, mn \to$ вычтем количество делящихся на $m$ - это $n$, - делящихся на $n$ - это $m$ - и прибавим 1 (2 раза вычли $mn$)
$\phi(mn) = mn - n - m + 1 = m(n-1) - (n - 1) = (m-1)(n-1) = \phi(m) * \phi(n)$

2. m, n - любые, т.е. такие, что $НОД(m, n) = 1$

Рассмотрим отображение $(x, y) \mapsto mx+ny \ mod (mn)$, где $x \in [0, n - 1], y \in [0, m - 1]$

Пусть 
$mx_{1}+ny_{1} \equiv_{mn} mx_{2} + ny_{2}$
$m(x_{1} - x_{2}) + n(y_{1} - y_{2}) \equiv_{mn} 0$
	
Тогда $(x_{1}-x_{2}) : n, (y_{1} -y_{2}) : m \implies$ $x_{1} \equiv_{n} x_{2}, y_{1} \equiv_{n} y_{2} \implies$ т.к. $x_{1}, x_{2} \in[0, n-1]$ и $y_{1}, y_{2} \in [0, m -1]$, то $x_{1}=x_{2}, y_{1} = y_{2} \implies$ отображение инъективно, 
а т.к. количество пар $= mn =$ количество остатков при делении на mn, то отображение биективно

Среди чисел $1, 2, \dots, mn$ возьмём произвольное $t \equiv_{mn} mx+ny$
Мы ищем те $t$, что взаимнопросты с $mn$:
$НОД(t, mn) = 1 \iff НОД(t, n) = 1$ и $НОД(t,m) = 1$ ($m, n$ взаимнопросты)

$НОД(t, n) = 1 \iff НОД(mx, n) = 1 \iff НОД(x, n) = 1$
Докажем это. $t \equiv_{mn} mx+ny \implies t\equiv_{n} mx + ny \equiv_{n} mx$
Тогда $t = nk + mx \implies НОД(t, n) = НОД(nk + mx, n) = НОД(mx, n)$ по алгоритму Евклида
А т.к. $НОД(m, n) = 1$, то $НОД(mx, n) = НОД(x, n) = НОД(t, n) = 1$

$НОД(t,m) = 1 \iff НОД(ny, m) = 1 \iff НОД(y, m) = 1$

Количество $x \in [0, n - 1] : НОД(x, n) = 1 \to \phi(n)$
Количество $y \in [0, m - 1] : НОД(y, m) = 1 \to \phi(m)$

**Итог:**
Нам нужно было найти количество чисел, взаимнопростых с $mn$
на отрезке $[1, mn]$, но $НОД(mn, mn) = mn$, значит, нужно найти такие
числа на отрезке $[1, mn - 1]$. Тогда нам нужно из остатков $t \equiv_{mn} mx + ny$ 
выбрать те "хорошие" числа $t$, что $НОД(t, mn) = 1$, ведь $НОД(t=0,mn) = mn\neq 1$ и $t \in [0, mn - 1]$. Но $НОД(t,mn) = 1 \iff НОД(x, n) = 1 \landНОД(y,m) = 1$,
следовательно, нужно выбрать "хорошие" пары $(x, y) : НОД(x, n) = 1 \landНОД(y,m) = 1$,
т.к. мы сделали биекцию $(x,y) \leftrightarrow t \ mod (mn)$.

Количество способов выбрать такие пары:
$\text{количество x взаимнопростых с n} * \text{количество y взаимнопростых с m}$
$= \phi(n) * \phi(m)$